<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../partials/header1.ejs') %>
  <link rel="stylesheet" href="/public/css/admin.css" />
</head>
<body>
  <header><%- include('../partials/navbar-admin.ejs') %></header>

  <div class="admin-container">
    <nav class="sidebar">
      <h2>Admin Menu</h2>
      <a href="/admin/view-users" class="menu-item">User Management</a>
      <a href="/admin/view-menu" class="menu-item active">Menu Items</a>
      <a href="/admin/view-tables" class="menu-item">Table Management</a>
      <a href="/admin/view-dietary" class="menu-item">Dietary Preferences</a>
    </nav>

    <section class="main-content">
      <h1>Assign Dietary Preferences</h1>
      <form method="POST" action="/admin/menus/<%= foodID %>/dietary">
        <% allOptions.forEach(p => { %>
          <label>
            <input type="checkbox" name="dietary" value="<%= p.id %>" <%= selectedIds.includes(p.id) ? 'checked' : '' %>>
            <%= p.name %>
          </label><br>
        <% }) %>

        <br>
        <button type="submit" class="btn btn-add">Save</button>
        <a href="/admin/view-menu" class="btn btn-cancel">Cancel</a>
      </form>
    </section>
  </div>
</body>
</html>
